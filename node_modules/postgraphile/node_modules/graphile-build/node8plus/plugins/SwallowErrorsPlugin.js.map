{"version":3,"sources":["../../src/plugins/SwallowErrorsPlugin.js"],"names":["SwallowErrorsPlugin","builder","dontSwallowErrors","hook","build","Object","assign","swallowError","e","recoverable"],"mappings":";;;;;;;IAGyBA,mB,GAAT,SAASA,mBAAT,CACdC,OADc,EAEd;AAAEC,EAAAA,iBAAiB,GAAG;AAAtB,CAFc,EAGd;AACAD,EAAAA,OAAO,CAACE,IAAR,CACE,OADF,EAEGC,KAAD,IAAyB;AACvB,QAAIF,iBAAJ,EAAuB;AACrB;AACA;AACA;AACA;AACA,aAAOG,MAAM,CAACC,MAAP,CAAcF,KAAd,EAAqB;AAC1BG,QAAAA,YAAY,CAACC,CAAD,EAAI;AACd;AACAA,UAAAA,CAAC,CAACC,WAAF,GAAgB,IAAhB;AACA,gBAAMD,CAAN;AACD;;AALyB,OAArB,CAAP;AAOD,KAZD,MAYO;AACL,aAAOJ,KAAP;AACD;AACF,GAlBH,EAmBE,CAAC,eAAD,CAnBF;AAqBD,C","sourcesContent":["// @flow\nimport type { Plugin, Build } from \"../SchemaBuilder\";\n\nexport default (function SwallowErrorsPlugin(\n  builder,\n  { dontSwallowErrors = false }\n) {\n  builder.hook(\n    \"build\",\n    (build: Build): Build => {\n      if (dontSwallowErrors) {\n        // This plugin is a bit of a misnomer - to better maintain backwards\n        // compatibility, `swallowError` still exists on `makeNewBuild`; and\n        // thus this plugin is really `dontSwallowErrors`.\n        // $FlowFixMe\n        return Object.assign(build, {\n          swallowError(e) {\n            // $FlowFixMe\n            e.recoverable = true;\n            throw e;\n          },\n        });\n      } else {\n        return build;\n      }\n    },\n    [\"SwallowErrors\"]\n  );\n}: Plugin);\n"],"file":"SwallowErrorsPlugin.js"}